# Foodgram — Продуктовый помощник

Foodgram — это онлайн-платформа, где пользователи могут:
- Публиковать рецепты
- Добавлять рецепты в избранное
- Подписываться на авторов
- Формировать списки покупок

**Автор проекта**: Гафурова Алиса

---
### Для авторизованных пользователей:
- Доступна главная страница.
- Доступна страница другого пользователя.
- Доступна страница отдельного рецепта.
- Доступна страница «Мои подписки»:
    - можно подписаться и отписаться на странице рецепта;
    - можно подписаться и отписаться на странице автора;
    - при подписке рецепты автора добавляются на страницу «Мои подписки» и удаляются оттуда при отказе от подписки.
- Доступна страница «Избранное»:
    - на странице рецепта есть возможность добавить рецепт в список избранного и удалить его оттуда;
    - на любой странице со списком рецептов есть возможность добавить рецепт в список избранного и удалить его оттуда.
- Доступна страница «Список покупок»:
    - на странице рецепта есть возможность добавить рецепт в список покупок и удалить его оттуда;
    - на любой странице со списком рецептов есть возможность добавить рецепт в список покупок и удалить его оттуда;
    - есть возможность выгрузить файл с перечнем и количеством необходимых ингредиентов для рецептов из «Списка покупок»;
    ингредиенты в выгружаемом списке не повторяются, корректно подсчитывается общее количество для каждого ингредиента.
- Доступна страница «Создать рецепт»:
    - есть возможность опубликовать свой рецепт;
    - есть возможность отредактировать и сохранить изменения в своём рецепте;
    - есть возможность удалить свой рецепт.
- Доступна возможность изменить пароль.
- Доступна возможность изменить/удалить изображение профиля.
- Доступна возможность выйти из системы.
### Для неавторизованных пользователей:
- Доступна главная страница.
- Доступна страница отдельного рецепта.
- Доступна страница любого пользователя.
- Доступна и работает форма входа.
- Доступна и работает форма регистрации.
- Администратор и админ-зона:
- Все модели выведены в админ-зону.
- Для модели пользователей доступен поиск по имени и адресу электронной почты.
- Для модели рецептов включен поиск по названию и автору.
- На админ-странице рецепта отображается общее число добавлений этого рецепта в избранное.
- Для модели ингредиентов работает поиск по названию.

### Технические особенности
- RESTful API
- JWT-аутентификация
- Пагинация запросов
- Фильтрация по тегам

---

## Стек

**Backend**:
- Python 3.9
- Django 3.2
- Django REST Framework
- PostgreSQL

**Инфраструктура**:
- Docker
- Docker Compose
- Nginx
- Gunicorn

---

## Установка и запуск

### 1. Установка Docker
Установите [Docker Desktop](https://www.docker.com/products/docker-desktop/)

### 2. Клонирование репозитория
```bash
git clone git@github.com:AliceATG/foodgram-st.git
cd foodgram-st
```
### 3. В корне проекта создание .env файл. В нем должны быть:
```
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=foodgram

DB_HOST=192.168.160.1
DB_PORT=5432

```
### 4. Сборка контейнеров

```bash
docker compose up -d --build
```
### 5. Предзагрузка тестовых данных
В папке infra выполнить следующие команды:

```bash
docker-compose exec backend python manage.py migrate
docker-compose exec backend python manage.py load_ingredients
docker-compose exec backend python manage.py load_users
docker-compose exec backend python manage.py collectstatic --no-input
```

### 6. Работа с сайтом
Сайт: [localhost](http://localhost) или через [127.0.0.1](http://127.0.0.1)  
Админ-панель: [localhost/admin](http://localhost/admin)   
Суперпользователь:   
```bash
docker compose exec backend python manage.py createsureruser
```
